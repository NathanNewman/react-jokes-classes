(this.webpackJsonpicanhazdadjokes=this.webpackJsonpicanhazdadjokes||[]).push([[0],{28:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var o=n(3),s=n(19),a=n.n(s),i=(n(28),n(22)),c=n(12),r=n(5),u=n(23),l=n(20),d=n(6),h=n(7),v=n(4),j=n(9),f=n(8),k=n(21),b=n.n(k),p=(n(47),n(0)),g=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(e){var o;return Object(d.a)(this,n),(o=t.call(this,e)).upVote=o.upVote.bind(Object(v.a)(o)),o.downVote=o.downVote.bind(Object(v.a)(o)),o}return Object(h.a)(n,[{key:"upVote",value:function(){var e=this.props;(0,e.vote)(e.id,1)}},{key:"downVote",value:function(){var e=this.props;(0,e.vote)(e.id,-1)}},{key:"render",value:function(){var e=this.props,t=e.votes,n=e.text;return Object(p.jsxs)("div",{className:"Joke",children:[Object(p.jsxs)("div",{className:"Joke-votearea",children:[Object(p.jsx)("button",{onClick:this.upVote,children:Object(p.jsx)("i",{className:"fas fa-thumbs-up"})}),Object(p.jsx)("button",{onClick:this.downVote,children:Object(p.jsx)("i",{className:"fas fa-thumbs-down"})}),t]}),Object(p.jsx)("div",{className:"Joke-text",children:n})]})}}]),n}(o.Component),w=(n(49),["status"]),O=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(e){var o;return Object(d.a)(this,n),(o=t.call(this,e)).state={jokes:[]},o.generateNewJokes=o.generateNewJokes.bind(Object(v.a)(o)),o.vote=o.vote.bind(Object(v.a)(o)),o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){0===this.state.jokes.length&&this.getJokes()}},{key:"getJokes",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){var t,n,o,s,a,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.numJokesToGet,n=[],o=new Set,e.prev=3;case 4:if(!(n.length<t)){e.next=12;break}return e.next=7,b.a.get("https://icanhazdadjoke.com",{headers:{Accept:"application/json"}});case 7:s=e.sent,a=s.data,a.status,i=Object(u.a)(a,w),o.has(i.id)?console.error("duplicate found!"):(o.add(i.id),n.push(Object(r.a)(Object(r.a)({},i),{},{votes:0}))),e.next=4;break;case 12:this.setState({jokes:n}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0);case 18:case"end":return e.stop()}}),e,this,[[3,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"generateNewJokes",value:function(){this.getJokes()}},{key:"vote",value:function(e,t){this.setState((function(n){return{jokes:n.jokes.map((function(n){return n.id===e?Object(r.a)(Object(r.a)({},n),{},{votes:n.votes+t}):n}))}}))}},{key:"render",value:function(){var e=this;if(this.state.jokes.length){var t=Object(i.a)(this.state.jokes).sort((function(e,t){return t.votes-e.votes}));return Object(p.jsxs)("div",{className:"JokeList",children:[Object(p.jsx)("button",{className:"JokeList-getmore",onClick:this.generateNewJokes,children:"Get New Jokes"}),t.map((function(t){return Object(p.jsx)(g,{text:t.joke,id:t.id,votes:t.votes,vote:e.vote},t.id)}))]})}return null}}]),n}(o.Component);O.defaultProps={numJokesToGet:10};var m=O;var x=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(m,{})})},J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a.a.render(Object(p.jsx)(x,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/react-jokes-classes",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/react-jokes-classes","/service-worker.js");J?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):N(e)}))}}()}},[[50,1,2]]]);
//# sourceMappingURL=main.9d7bd06d.chunk.js.map